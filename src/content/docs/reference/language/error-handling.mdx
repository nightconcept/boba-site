---
title: Error Handling
---

Boba promotes robust error handling using the `Result` enum and the `?` operator. This approach makes it clear when a function can fail and encourages you to handle potential errors explicitly.

## The `Result` Enum

The `Result` enum is a generic type with two variants:

-   `Ok(T)`: Represents a successful result, containing a value of type `T`.
-   `Err(E)`: Represents an error, containing a value of type `E`.

```boba
enum Result<T, E> {
  Ok(T),    // The 'Success' compartment, holds a value of type T
  Err(E)    // The 'Failure' compartment, holds a value of type E
}
```

Functions that can fail should return a `Result` to make their behavior predictable.

## The `?` Operator for Error Propagation

The `?` operator provides a concise way to handle `Result` values. It simplifies the process of propagating errors up the call stack.

When you append `?` to a `Result` value:
-   If the value is `Ok(T)`, the `?` operator unwraps it and gives you the inner value `T`.
-   If the value is `Err(E)`, the `?` operator immediately stops the execution of the current function and returns the `Err(E)` value.

### Example Usage

Consider a function that reads a configuration file and parses it as JSON.

```boba
// Assume this struct is defined elsewhere
struct Config = {
  hostname: string,
  port: number,
  enable_https: boolean
}

// This function returns a Result because reading or parsing could fail.
fn load_config() -> Result<Config, error> {

    // 1. `read_file` returns a `Result<string, error>`.
    // 2. The `?` operator checks the Result:
    //    - If it's `Err(e)`, `load_config` immediately returns that `Err(e)`.
    //    - If it's `Ok(s)`, `?` unwraps it, and the string `s` is assigned to `content`.
    var content = read_file("config.json")?

    // 3. This line is only reached if `read_file` succeeded.
    // 4. `parse_json` returns a `Result<Config, error>`.
    // 5. The `?` operator checks this Result again, propagating any error.
    var config = parse_json(content)?

    print("Config loaded successfully!")

    // 6. If both operations succeed, the final Config is wrapped in `Ok` and returned.
    return Ok(config)
}
```

This pattern makes error handling explicit and clean, avoiding deep nesting of `if-else` blocks and ensuring that errors are dealt with.
